[tool:pytest]
# Configuración de pytest para el SDK de Datadis

# Directorios de tests
testpaths = tests

# Patrones de archivos de test
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Opciones por defecto
addopts =
    -v
    --tb=short
    --strict-markers
    --strict-config
    --disable-warnings
    --color=yes
    --durations=10

# Marcadores de tests
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (multiple components)
    slow: Slow tests (may take several seconds)
    auth: Authentication and session tests
    models: Pydantic model validation tests
    client_v1: V1 client specific tests
    client_v2: V2 client specific tests
    utils: Utility function tests
    errors: Error handling and exception tests

# Filtros de warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:requests.*
    error::pytest.PytestUnraisableExceptionWarning

# Configuración de logging para tests
log_cli = false
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Timeout por defecto para tests
timeout = 30

# Configuración para tests que requieren recursos
faulthandler_timeout = 60

# Configuración de coverage (cuando se usa --cov)
# Nota: La configuración real de coverage está en pyproject.toml
